{
  "address": "0x133BaF2d5F59286906c7bA4E357158AF663792Ac",
  "abi": [
    {
      "inputs": [],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "patientId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "funeralContract",
          "type": "address"
        }
      ],
      "name": "FuneralServiceTriggered",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "previousOwner",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "OwnershipTransferred",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "patientId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "name",
          "type": "string"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "familyContact",
          "type": "address"
        }
      ],
      "name": "PatientAdmitted",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "patientId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        }
      ],
      "name": "PatientDeceased",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "patientId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "enum HospitalCore.PatientStatus",
          "name": "newStatus",
          "type": "uint8"
        }
      ],
      "name": "PatientStatusUpdated",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "staff",
          "type": "address"
        }
      ],
      "name": "addMedicalStaff",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "_name",
          "type": "string"
        },
        {
          "internalType": "uint256",
          "name": "_age",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "_familyContact",
          "type": "address"
        },
        {
          "internalType": "string",
          "name": "_initialRecord",
          "type": "string"
        }
      ],
      "name": "admitPatient",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "cemeteryContract",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "familyPatients",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "funeralServiceContract",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_family",
          "type": "address"
        }
      ],
      "name": "getFamilyPatients",
      "outputs": [
        {
          "internalType": "uint256[]",
          "name": "",
          "type": "uint256[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_patientId",
          "type": "uint256"
        }
      ],
      "name": "getPatient",
      "outputs": [
        {
          "components": [
            {
              "internalType": "uint256",
              "name": "id",
              "type": "uint256"
            },
            {
              "internalType": "string",
              "name": "name",
              "type": "string"
            },
            {
              "internalType": "uint256",
              "name": "age",
              "type": "uint256"
            },
            {
              "internalType": "address",
              "name": "familyContact",
              "type": "address"
            },
            {
              "internalType": "enum HospitalCore.PatientStatus",
              "name": "status",
              "type": "uint8"
            },
            {
              "internalType": "uint256",
              "name": "admissionTime",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "lastUpdateTime",
              "type": "uint256"
            },
            {
              "internalType": "string",
              "name": "medicalRecord",
              "type": "string"
            },
            {
              "internalType": "bool",
              "name": "hasFuneralPlan",
              "type": "bool"
            }
          ],
          "internalType": "struct HospitalCore.Patient",
          "name": "",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getTotalPatients",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "medicalStaff",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "nursingHomeContract",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "owner",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "patients",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "id",
          "type": "uint256"
        },
        {
          "internalType": "string",
          "name": "name",
          "type": "string"
        },
        {
          "internalType": "uint256",
          "name": "age",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "familyContact",
          "type": "address"
        },
        {
          "internalType": "enum HospitalCore.PatientStatus",
          "name": "status",
          "type": "uint8"
        },
        {
          "internalType": "uint256",
          "name": "admissionTime",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "lastUpdateTime",
          "type": "uint256"
        },
        {
          "internalType": "string",
          "name": "medicalRecord",
          "type": "string"
        },
        {
          "internalType": "bool",
          "name": "hasFuneralPlan",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_patientId",
          "type": "uint256"
        }
      ],
      "name": "payForTreatment",
      "outputs": [],
      "stateMutability": "payable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_nursingHome",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_funeralService",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_cemetery",
          "type": "address"
        }
      ],
      "name": "setExternalContracts",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "transferOwnership",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_patientId",
          "type": "uint256"
        },
        {
          "internalType": "enum HospitalCore.PatientStatus",
          "name": "_newStatus",
          "type": "uint8"
        },
        {
          "internalType": "string",
          "name": "_updateRecord",
          "type": "string"
        }
      ],
      "name": "updatePatientStatus",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "withdraw",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "transactionHash": "0xe8eb4ee0ec021b0efac00d51666cf26670c2a466d530913af202c0dbd32f0a54",
  "receipt": {
    "to": null,
    "from": "0xEbAd73D4daf681F7e08F5feb48D972393CcC9f19",
    "contractAddress": "0x133BaF2d5F59286906c7bA4E357158AF663792Ac",
    "transactionIndex": 13,
    "gasUsed": "1410332",
    "logsBloom": "0x00000000000000000000000000000000000000000200000000800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000020000000000000000000800000000000000080000000000000000400000000000000000000000000000004000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000010000000000000000000000000",
    "blockHash": "0x19e2902f2b67c444d1a7f405c61436f10e8764fd00d39eb440ed8ab222296066",
    "transactionHash": "0xe8eb4ee0ec021b0efac00d51666cf26670c2a466d530913af202c0dbd32f0a54",
    "logs": [
      {
        "transactionIndex": 13,
        "blockNumber": 20638311,
        "transactionHash": "0xe8eb4ee0ec021b0efac00d51666cf26670c2a466d530913af202c0dbd32f0a54",
        "address": "0x133BaF2d5F59286906c7bA4E357158AF663792Ac",
        "topics": [
          "0x8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0",
          "0x0000000000000000000000000000000000000000000000000000000000000000",
          "0x000000000000000000000000ebad73d4daf681f7e08f5feb48d972393ccc9f19"
        ],
        "data": "0x",
        "logIndex": 55,
        "blockHash": "0x19e2902f2b67c444d1a7f405c61436f10e8764fd00d39eb440ed8ab222296066"
      }
    ],
    "blockNumber": 20638311,
    "cumulativeGasUsed": "5162062",
    "status": 1,
    "byzantium": true
  },
  "args": [],
  "numDeployments": 1,
  "solcInputHash": "da1ddd2d5521bb4532d1a290be9dd42b",
  "metadata": "{\"compiler\":{\"version\":\"0.8.20+commit.a1b79de6\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"patientId\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"funeralContract\",\"type\":\"address\"}],\"name\":\"FuneralServiceTriggered\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"previousOwner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"OwnershipTransferred\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"patientId\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"string\",\"name\":\"name\",\"type\":\"string\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"familyContact\",\"type\":\"address\"}],\"name\":\"PatientAdmitted\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"patientId\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"timestamp\",\"type\":\"uint256\"}],\"name\":\"PatientDeceased\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"patientId\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"enum HospitalCore.PatientStatus\",\"name\":\"newStatus\",\"type\":\"uint8\"}],\"name\":\"PatientStatusUpdated\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"staff\",\"type\":\"address\"}],\"name\":\"addMedicalStaff\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"_name\",\"type\":\"string\"},{\"internalType\":\"uint256\",\"name\":\"_age\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"_familyContact\",\"type\":\"address\"},{\"internalType\":\"string\",\"name\":\"_initialRecord\",\"type\":\"string\"}],\"name\":\"admitPatient\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"cemeteryContract\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"familyPatients\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"funeralServiceContract\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_family\",\"type\":\"address\"}],\"name\":\"getFamilyPatients\",\"outputs\":[{\"internalType\":\"uint256[]\",\"name\":\"\",\"type\":\"uint256[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_patientId\",\"type\":\"uint256\"}],\"name\":\"getPatient\",\"outputs\":[{\"components\":[{\"internalType\":\"uint256\",\"name\":\"id\",\"type\":\"uint256\"},{\"internalType\":\"string\",\"name\":\"name\",\"type\":\"string\"},{\"internalType\":\"uint256\",\"name\":\"age\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"familyContact\",\"type\":\"address\"},{\"internalType\":\"enum HospitalCore.PatientStatus\",\"name\":\"status\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"admissionTime\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"lastUpdateTime\",\"type\":\"uint256\"},{\"internalType\":\"string\",\"name\":\"medicalRecord\",\"type\":\"string\"},{\"internalType\":\"bool\",\"name\":\"hasFuneralPlan\",\"type\":\"bool\"}],\"internalType\":\"struct HospitalCore.Patient\",\"name\":\"\",\"type\":\"tuple\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getTotalPatients\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"medicalStaff\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"nursingHomeContract\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"patients\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"id\",\"type\":\"uint256\"},{\"internalType\":\"string\",\"name\":\"name\",\"type\":\"string\"},{\"internalType\":\"uint256\",\"name\":\"age\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"familyContact\",\"type\":\"address\"},{\"internalType\":\"enum HospitalCore.PatientStatus\",\"name\":\"status\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"admissionTime\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"lastUpdateTime\",\"type\":\"uint256\"},{\"internalType\":\"string\",\"name\":\"medicalRecord\",\"type\":\"string\"},{\"internalType\":\"bool\",\"name\":\"hasFuneralPlan\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_patientId\",\"type\":\"uint256\"}],\"name\":\"payForTreatment\",\"outputs\":[],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_nursingHome\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_funeralService\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_cemetery\",\"type\":\"address\"}],\"name\":\"setExternalContracts\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"transferOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_patientId\",\"type\":\"uint256\"},{\"internalType\":\"enum HospitalCore.PatientStatus\",\"name\":\"_newStatus\",\"type\":\"uint8\"},{\"internalType\":\"string\",\"name\":\"_updateRecord\",\"type\":\"string\"}],\"name\":\"updatePatientStatus\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"withdraw\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/HospitalCore.sol\":\"HospitalCore\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\",\"useLiteralContent\":true},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[]},\"sources\":{\"contracts/HospitalCore.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity ^0.8.19;\\n\\n// \\u57fa\\u7840\\u5e93\\nabstract contract Ownable {\\n    address private _owner;\\n\\n    event OwnershipTransferred(address indexed previousOwner, address indexed newOwner);\\n\\n    constructor() {\\n        _transferOwnership(msg.sender);\\n    }\\n\\n    modifier onlyOwner() {\\n        require(owner() == msg.sender, \\\"Ownable: caller is not the owner\\\");\\n        _;\\n    }\\n\\n    function owner() public view virtual returns (address) {\\n        return _owner;\\n    }\\n\\n    function transferOwnership(address newOwner) public virtual onlyOwner {\\n        require(newOwner != address(0), \\\"Ownable: new owner is the zero address\\\");\\n        _transferOwnership(newOwner);\\n    }\\n\\n    function _transferOwnership(address newOwner) internal virtual {\\n        address oldOwner = _owner;\\n        _owner = newOwner;\\n        emit OwnershipTransferred(oldOwner, newOwner);\\n    }\\n}\\n\\n// \\u9632\\u91cd\\u5165\\u4fdd\\u62a4\\nabstract contract ReentrancyGuard {\\n    uint256 private constant _NOT_ENTERED = 1;\\n    uint256 private constant _ENTERED = 2;\\n    uint256 private _status;\\n\\n    constructor() {\\n        _status = _NOT_ENTERED;\\n    }\\n\\n    modifier nonReentrant() {\\n        require(_status != _ENTERED, \\\"ReentrancyGuard: reentrant call\\\");\\n        _status = _ENTERED;\\n        _;\\n        _status = _NOT_ENTERED;\\n    }\\n}\\n\\n// \\u8ba1\\u6570\\u5668\\u5e93\\nlibrary Counters {\\n    struct Counter {\\n        uint256 _value;\\n    }\\n\\n    function current(Counter storage counter) internal view returns (uint256) {\\n        return counter._value;\\n    }\\n\\n    function increment(Counter storage counter) internal {\\n        unchecked {\\n            counter._value += 1;\\n        }\\n    }\\n\\n    function decrement(Counter storage counter) internal {\\n        uint256 value = counter._value;\\n        require(value > 0, \\\"Counter: decrement overflow\\\");\\n        unchecked {\\n            counter._value = value - 1;\\n        }\\n    }\\n}\\n\\n// \\u6ba1\\u846c\\u670d\\u52a1\\u63a5\\u53e3\\ninterface IFuneralService {\\n    function initiateFuneralProcess(\\n        uint256 _patientId,\\n        string memory _deceasedName,\\n        address _familyContact\\n    ) external returns (uint256);\\n}\\n\\n// \\u6838\\u5fc3\\u533b\\u9662\\u5408\\u7ea6\\ncontract HospitalCore is Ownable, ReentrancyGuard {\\n    using Counters for Counters.Counter;\\n    \\n    Counters.Counter private _patientIds;\\n    \\n    // \\u60a3\\u8005\\u72b6\\u6001\\u679a\\u4e3e\\n    enum PatientStatus { \\n        ADMITTED,           // \\u5165\\u9662\\n        IN_TREATMENT,      // \\u6cbb\\u7597\\u4e2d\\n        CRITICAL,          // \\u5371\\u91cd\\n        STABLE,            // \\u7a33\\u5b9a\\n        DISCHARGED,        // \\u51fa\\u9662\\n        DECEASED           // \\u53bb\\u4e16\\n    }\\n    \\n    // \\u60a3\\u8005\\u4fe1\\u606f\\u7ed3\\u6784\\n    struct Patient {\\n        uint256 id;\\n        string name;\\n        uint256 age;\\n        address familyContact;\\n        PatientStatus status;\\n        uint256 admissionTime;\\n        uint256 lastUpdateTime;\\n        string medicalRecord;\\n        bool hasFuneralPlan;\\n    }\\n    \\n    // \\u5b58\\u50a8\\u7ed3\\u6784\\n    mapping(uint256 => Patient) public patients;\\n    mapping(address => uint256[]) public familyPatients;\\n    \\n    // \\u5173\\u8054\\u7684\\u5916\\u90e8\\u670d\\u52a1\\u5408\\u7ea6\\n    address public nursingHomeContract;\\n    address public funeralServiceContract;\\n    address public cemeteryContract;\\n    \\n    // \\u4e8b\\u4ef6\\u5b9a\\u4e49\\n    event PatientAdmitted(uint256 indexed patientId, string name, address familyContact);\\n    event PatientStatusUpdated(uint256 indexed patientId, PatientStatus newStatus);\\n    event PatientDeceased(uint256 indexed patientId, uint256 timestamp);\\n    event FuneralServiceTriggered(uint256 indexed patientId, address funeralContract);\\n    \\n    // \\u4fee\\u9970\\u7b26\\uff1a\\u4ec5\\u9650\\u533b\\u62a4\\u4eba\\u5458\\n    modifier onlyMedicalStaff() {\\n        require(medicalStaff[msg.sender], \\\"Only medical staff can perform this action\\\");\\n        _;\\n    }\\n    \\n    mapping(address => bool) public medicalStaff;\\n    \\n    constructor() {\\n        medicalStaff[msg.sender] = true;\\n    }\\n    \\n    // \\u6dfb\\u52a0\\u533b\\u62a4\\u4eba\\u5458\\n    function addMedicalStaff(address staff) external onlyOwner {\\n        medicalStaff[staff] = true;\\n    }\\n    \\n    // \\u8bbe\\u7f6e\\u5916\\u90e8\\u670d\\u52a1\\u5408\\u7ea6\\u5730\\u5740\\n    function setExternalContracts(\\n        address _nursingHome,\\n        address _funeralService,\\n        address _cemetery\\n    ) external onlyOwner {\\n        nursingHomeContract = _nursingHome;\\n        funeralServiceContract = _funeralService;\\n        cemeteryContract = _cemetery;\\n    }\\n    \\n    // \\u60a3\\u8005\\u5165\\u9662\\u767b\\u8bb0\\n    function admitPatient(\\n        string memory _name,\\n        uint256 _age,\\n        address _familyContact,\\n        string memory _initialRecord\\n    ) external onlyMedicalStaff returns (uint256) {\\n        _patientIds.increment();\\n        uint256 newPatientId = _patientIds.current();\\n        \\n        patients[newPatientId] = Patient({\\n            id: newPatientId,\\n            name: _name,\\n            age: _age,\\n            familyContact: _familyContact,\\n            status: PatientStatus.ADMITTED,\\n            admissionTime: block.timestamp,\\n            lastUpdateTime: block.timestamp,\\n            medicalRecord: _initialRecord,\\n            hasFuneralPlan: false\\n        });\\n        \\n        familyPatients[_familyContact].push(newPatientId);\\n        \\n        emit PatientAdmitted(newPatientId, _name, _familyContact);\\n        return newPatientId;\\n    }\\n    \\n    // \\u66f4\\u65b0\\u60a3\\u8005\\u72b6\\u6001\\n    function updatePatientStatus(\\n        uint256 _patientId,\\n        PatientStatus _newStatus,\\n        string memory _updateRecord\\n    ) external onlyMedicalStaff {\\n        require(_patientId <= _patientIds.current(), \\\"Patient does not exist\\\");\\n        \\n        Patient storage patient = patients[_patientId];\\n        patient.status = _newStatus;\\n        patient.lastUpdateTime = block.timestamp;\\n        patient.medicalRecord = string(abi.encodePacked(\\n            patient.medicalRecord, \\n            \\\" | \\\", \\n            _updateRecord\\n        ));\\n        \\n        emit PatientStatusUpdated(_patientId, _newStatus);\\n        \\n        // \\u5982\\u679c\\u60a3\\u8005\\u53bb\\u4e16\\uff0c\\u81ea\\u52a8\\u89e6\\u53d1\\u6ba1\\u846c\\u670d\\u52a1\\n        if (_newStatus == PatientStatus.DECEASED) {\\n            _handlePatientDeceased(_patientId);\\n        }\\n    }\\n    \\n    // \\u5904\\u7406\\u60a3\\u8005\\u53bb\\u4e16\\u60c5\\u51b5\\n    function _handlePatientDeceased(uint256 _patientId) internal {\\n        Patient storage patient = patients[_patientId];\\n        \\n        emit PatientDeceased(_patientId, block.timestamp);\\n        \\n        // \\u81ea\\u52a8\\u8054\\u7cfb\\u6ba1\\u846c\\u670d\\u52a1\\n        if (funeralServiceContract != address(0)) {\\n            IFuneralService(funeralServiceContract).initiateFuneralProcess(\\n                _patientId,\\n                patient.name,\\n                patient.familyContact\\n            );\\n            emit FuneralServiceTriggered(_patientId, funeralServiceContract);\\n        }\\n    }\\n    \\n    // \\u83b7\\u53d6\\u60a3\\u8005\\u4fe1\\u606f\\n    function getPatient(uint256 _patientId) external view returns (Patient memory) {\\n        require(_patientId <= _patientIds.current(), \\\"Patient does not exist\\\");\\n        return patients[_patientId];\\n    }\\n    \\n    // \\u83b7\\u53d6\\u5bb6\\u5c5e\\u7684\\u6240\\u6709\\u60a3\\u8005\\n    function getFamilyPatients(address _family) external view returns (uint256[] memory) {\\n        return familyPatients[_family];\\n    }\\n    \\n    // \\u83b7\\u53d6\\u5f53\\u524d\\u60a3\\u8005\\u603b\\u6570\\n    function getTotalPatients() external view returns (uint256) {\\n        return _patientIds.current();\\n    }\\n\\n    // \\u652f\\u4ed8\\u6cbb\\u7597\\u8d39\\u7528\\n    function payForTreatment(uint256 _patientId) external payable {\\n        require(_patientId <= _patientIds.current(), \\\"Patient does not exist\\\");\\n        // \\u8fd9\\u91cc\\u53ef\\u4ee5\\u6dfb\\u52a0\\u66f4\\u591a\\u7684\\u652f\\u4ed8\\u903b\\u8f91\\n    }\\n\\n    // \\u63d0\\u53d6\\u8d44\\u91d1\\n    function withdraw() external onlyOwner nonReentrant {\\n        uint256 balance = address(this).balance;\\n        require(balance > 0, \\\"No funds to withdraw\\\");\\n        payable(owner()).transfer(balance);\\n    }\\n}\",\"keccak256\":\"0x4735ee33b7deb39f038c81143ef1948923058823c4d59425c7241a892e8e3669\",\"license\":\"MIT\"}},\"version\":1}",
  "bytecode": "0x608060405234801561001057600080fd5b5061001a3361003e565b6001808055336000908152600860205260409020805460ff1916909117905561008e565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b6117138061009d6000396000f3fe6080604052600436106100fe5760003560e01c8063981a087611610095578063e5a042d611610064578063e5a042d6146102d8578063f128f55814610305578063f2fde38b14610325578063f36ddd3414610345578063f497e1891461036557600080fd5b8063981a08761461024a578063aa6eb3a414610278578063c7493fd614610298578063c9e0d220146102b857600080fd5b80637d3a6796116100d15780637d3a6796146101aa57806382d5c9d4146101d75780638da5cb5b146101f757806393119a831461021557600080fd5b80630542d6ed146101035780630d838388146101185780632388b425146101555780633ccfd60b14610195575b600080fd5b610116610111366004610f2c565b61037a565b005b34801561012457600080fd5b50600654610138906001600160a01b031681565b6040516001600160a01b0390911681526020015b60405180910390f35b34801561016157600080fd5b50610185610170366004610f61565b60086020526000908152604090205460ff1681565b604051901515815260200161014c565b3480156101a157600080fd5b506101166103a8565b3480156101b657600080fd5b506101ca6101c5366004610f2c565b6104be565b60405161014c919061100b565b3480156101e357600080fd5b50600554610138906001600160a01b031681565b34801561020357600080fd5b506000546001600160a01b0316610138565b34801561022157600080fd5b50610235610230366004610f2c565b6106b3565b60405161014c999897969594939291906110b1565b34801561025657600080fd5b5061026a610265366004611128565b610822565b60405190815260200161014c565b34801561028457600080fd5b50610116610293366004610f61565b610853565b3480156102a457600080fd5b506101166102b3366004611152565b6108b0565b3480156102c457600080fd5b50600754610138906001600160a01b031681565b3480156102e457600080fd5b506102f86102f3366004610f61565b610928565b60405161014c9190611195565b34801561031157600080fd5b5061011661032036600461127c565b610994565b34801561033157600080fd5b50610116610340366004610f61565b610abd565b34801561035157600080fd5b5061026a6103603660046112d9565b610b64565b34801561037157600080fd5b5061026a610d48565b6002548111156103a55760405162461bcd60e51b815260040161039c90611357565b60405180910390fd5b50565b336103bb6000546001600160a01b031690565b6001600160a01b0316146103e15760405162461bcd60e51b815260040161039c90611387565b6002600154036104335760405162461bcd60e51b815260206004820152601f60248201527f5265656e7472616e637947756172643a207265656e7472616e742063616c6c00604482015260640161039c565b6002600155478061047d5760405162461bcd60e51b81526020600482015260146024820152734e6f2066756e647320746f20776974686472617760601b604482015260640161039c565b600080546040516001600160a01b039091169183156108fc02918491818181858888f193505050501580156104b6573d6000803e3d6000fd5b505060018055565b6104c6610ec4565b6002548211156104e85760405162461bcd60e51b815260040161039c90611357565b600360008381526020019081526020016000206040518061012001604052908160008201548152602001600182018054610521906113bc565b80601f016020809104026020016040519081016040528092919081815260200182805461054d906113bc565b801561059a5780601f1061056f5761010080835404028352916020019161059a565b820191906000526020600020905b81548152906001019060200180831161057d57829003601f168201915b50505091835250506002820154602082015260038201546001600160a01b0381166040830152606090910190600160a01b900460ff1660058111156105e1576105e1610fd3565b60058111156105f2576105f2610fd3565b8152602001600482015481526020016005820154815260200160068201805461061a906113bc565b80601f0160208091040260200160405190810160405280929190818152602001828054610646906113bc565b80156106935780601f1061066857610100808354040283529160200191610693565b820191906000526020600020905b81548152906001019060200180831161067657829003601f168201915b50505091835250506007919091015460ff16151560209091015292915050565b600360205260009081526040902080546001820180549192916106d5906113bc565b80601f0160208091040260200160405190810160405280929190818152602001828054610701906113bc565b801561074e5780601f106107235761010080835404028352916020019161074e565b820191906000526020600020905b81548152906001019060200180831161073157829003601f168201915b505050506002830154600384015460048501546005860154600687018054969794966001600160a01b0385169650600160a01b90940460ff16949293919291610796906113bc565b80601f01602080910402602001604051908101604052809291908181526020018280546107c2906113bc565b801561080f5780601f106107e45761010080835404028352916020019161080f565b820191906000526020600020905b8154815290600101906020018083116107f257829003601f168201915b5050506007909301549192505060ff1689565b6004602052816000526040600020818154811061083e57600080fd5b90600052602060002001600091509150505481565b336108666000546001600160a01b031690565b6001600160a01b03161461088c5760405162461bcd60e51b815260040161039c90611387565b6001600160a01b03166000908152600860205260409020805460ff19166001179055565b336108c36000546001600160a01b031690565b6001600160a01b0316146108e95760405162461bcd60e51b815260040161039c90611387565b600580546001600160a01b039485166001600160a01b031991821617909155600680549385169382169390931790925560078054919093169116179055565b6001600160a01b03811660009081526004602090815260409182902080548351818402810184019094528084526060939283018282801561098857602002820191906000526020600020905b815481526020019060010190808311610974575b50505050509050919050565b3360009081526008602052604090205460ff166109c35760405162461bcd60e51b815260040161039c906113f6565b6002548311156109e55760405162461bcd60e51b815260040161039c90611357565b6000838152600360208190526040909120908101805484919060ff60a01b1916600160a01b836005811115610a1c57610a1c610fd3565b0217905550426005820155604051610a3d9060068301908490602001611440565b604051602081830303815290604052816006019081610a5c9190611525565b50837ff3aa2907db0a9035985b24a33dbfea8b6090be75d53e3f3f267bb02f20876f4284604051610a8d91906115e5565b60405180910390a26005836005811115610aa957610aa9610fd3565b03610ab757610ab784610d58565b50505050565b33610ad06000546001600160a01b031690565b6001600160a01b031614610af65760405162461bcd60e51b815260040161039c90611387565b6001600160a01b038116610b5b5760405162461bcd60e51b815260206004820152602660248201527f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160448201526564647265737360d01b606482015260840161039c565b6103a581610e74565b3360009081526008602052604081205460ff16610b935760405162461bcd60e51b815260040161039c906113f6565b610ba1600280546001019055565b6000610bac60025490565b9050604051806101200160405280828152602001878152602001868152602001856001600160a01b0316815260200160006005811115610bee57610bee610fd3565b8152426020808301829052604080840192909252606083018790526000608090930183905284835260038152912082518155908201516001820190610c339082611525565b506040820151600282015560608201516003820180546001600160a01b039092166001600160a01b03198316811782556080850151926001600160a81b03191617600160a01b836005811115610c8b57610c8b610fd3565b021790555060a0820151600482015560c0820151600582015560e08201516006820190610cb89082611525565b5061010091909101516007909101805460ff19169115159190911790556001600160a01b0384166000908152600460209081526040808320805460018101825590845291909220018290555181907f783ee835d8fda8222eea77190fd6bb6dab3d48fd98be5b09f05c4d30ff6751b790610d3590899088906115f9565b60405180910390a290505b949350505050565b6000610d5360025490565b905090565b600081815260036020908152604091829020915142815283917f939404383a513c81a80e4ca76ff5025d24d424f198a925c3ed566541a6aab5cd910160405180910390a26006546001600160a01b031615610e70576006546003820154604051634ea57b1d60e01b81526001600160a01b0392831692634ea57b1d92610de992879260018801921690600401611623565b6020604051808303816000875af1158015610e08573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610e2c91906116c4565b506006546040516001600160a01b03909116815282907fcd4bd94bf9e6f34f49b26592c5db180d7e1e1ba4fe83df636aaf85e213247baf9060200160405180910390a25b5050565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b60405180610120016040528060008152602001606081526020016000815260200160006001600160a01b0316815260200160006005811115610f0857610f08610fd3565b81526020016000815260200160008152602001606081526020016000151581525090565b600060208284031215610f3e57600080fd5b5035919050565b80356001600160a01b0381168114610f5c57600080fd5b919050565b600060208284031215610f7357600080fd5b610f7c82610f45565b9392505050565b60005b83811015610f9e578181015183820152602001610f86565b50506000910152565b60008151808452610fbf816020860160208601610f83565b601f01601f19169290920160200192915050565b634e487b7160e01b600052602160045260246000fd5b6006811061100757634e487b7160e01b600052602160045260246000fd5b9052565b602081528151602082015260006020830151610120806040850152611034610140850183610fa7565b915060408501516060850152606085015161105a60808601826001600160a01b03169052565b50608085015161106d60a0860182610fe9565b5060a085015160c085015260c085015160e085015260e0850151610100601f19868503018187015261109f8483610fa7565b96015115159190940152509192915050565b60006101208b83528060208401526110cb8184018c610fa7565b604084018b90526001600160a01b038a16606085015290506110f06080840189610fe9565b8660a08401528560c084015282810360e084015261110e8186610fa7565b9150508215156101008301529a9950505050505050505050565b6000806040838503121561113b57600080fd5b61114483610f45565b946020939093013593505050565b60008060006060848603121561116757600080fd5b61117084610f45565b925061117e60208501610f45565b915061118c60408501610f45565b90509250925092565b6020808252825182820181905260009190848201906040850190845b818110156111cd578351835292840192918401916001016111b1565b50909695505050505050565b634e487b7160e01b600052604160045260246000fd5b600082601f83011261120057600080fd5b813567ffffffffffffffff8082111561121b5761121b6111d9565b604051601f8301601f19908116603f01168101908282118183101715611243576112436111d9565b8160405283815286602085880101111561125c57600080fd5b836020870160208301376000602085830101528094505050505092915050565b60008060006060848603121561129157600080fd5b833592506020840135600681106112a757600080fd5b9150604084013567ffffffffffffffff8111156112c357600080fd5b6112cf868287016111ef565b9150509250925092565b600080600080608085870312156112ef57600080fd5b843567ffffffffffffffff8082111561130757600080fd5b611313888389016111ef565b95506020870135945061132860408801610f45565b9350606087013591508082111561133e57600080fd5b5061134b878288016111ef565b91505092959194509250565b60208082526016908201527514185d1a595b9d08191bd95cc81b9bdd08195e1a5cdd60521b604082015260600190565b6020808252818101527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e6572604082015260600190565b600181811c908216806113d057607f821691505b6020821081036113f057634e487b7160e01b600052602260045260246000fd5b50919050565b6020808252602a908201527f4f6e6c79206d65646963616c2073746166662063616e20706572666f726d20746040820152693434b99030b1ba34b7b760b11b606082015260800190565b600080845461144e816113bc565b60018281168015611466576001811461147b576114aa565b60ff19841687528215158302870194506114aa565b8860005260208060002060005b858110156114a15781548a820152908401908201611488565b50505082870194505b50505050620103e160ed1b815283516114ca816003840160208801610f83565b01600301949350505050565b601f82111561152057600081815260208120601f850160051c810160208610156114fd5750805b601f850160051c820191505b8181101561151c57828155600101611509565b5050505b505050565b815167ffffffffffffffff81111561153f5761153f6111d9565b6115538161154d84546113bc565b846114d6565b602080601f83116001811461158857600084156115705750858301515b600019600386901b1c1916600185901b17855561151c565b600085815260208120601f198616915b828110156115b757888601518255948401946001909101908401611598565b50858210156115d55787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b602081016115f38284610fe9565b92915050565b60408152600061160c6040830185610fa7565b905060018060a01b03831660208301529392505050565b838152600060206060818401526000855461163d816113bc565b806060870152608060018084166000811461165f5760018114611679576116a7565b60ff1985168984015283151560051b8901830195506116a7565b8a6000528660002060005b8581101561169f5781548b8201860152908301908801611684565b8a0184019650505b505050506001600160a01b0386166040860152509150610d409050565b6000602082840312156116d657600080fd5b505191905056fea2646970667358221220ab52f294ac5ef51173c1e463630cb87058694e49915fba2a315aaf4a4c8b064a64736f6c63430008140033",
  "deployedBytecode": "0x6080604052600436106100fe5760003560e01c8063981a087611610095578063e5a042d611610064578063e5a042d6146102d8578063f128f55814610305578063f2fde38b14610325578063f36ddd3414610345578063f497e1891461036557600080fd5b8063981a08761461024a578063aa6eb3a414610278578063c7493fd614610298578063c9e0d220146102b857600080fd5b80637d3a6796116100d15780637d3a6796146101aa57806382d5c9d4146101d75780638da5cb5b146101f757806393119a831461021557600080fd5b80630542d6ed146101035780630d838388146101185780632388b425146101555780633ccfd60b14610195575b600080fd5b610116610111366004610f2c565b61037a565b005b34801561012457600080fd5b50600654610138906001600160a01b031681565b6040516001600160a01b0390911681526020015b60405180910390f35b34801561016157600080fd5b50610185610170366004610f61565b60086020526000908152604090205460ff1681565b604051901515815260200161014c565b3480156101a157600080fd5b506101166103a8565b3480156101b657600080fd5b506101ca6101c5366004610f2c565b6104be565b60405161014c919061100b565b3480156101e357600080fd5b50600554610138906001600160a01b031681565b34801561020357600080fd5b506000546001600160a01b0316610138565b34801561022157600080fd5b50610235610230366004610f2c565b6106b3565b60405161014c999897969594939291906110b1565b34801561025657600080fd5b5061026a610265366004611128565b610822565b60405190815260200161014c565b34801561028457600080fd5b50610116610293366004610f61565b610853565b3480156102a457600080fd5b506101166102b3366004611152565b6108b0565b3480156102c457600080fd5b50600754610138906001600160a01b031681565b3480156102e457600080fd5b506102f86102f3366004610f61565b610928565b60405161014c9190611195565b34801561031157600080fd5b5061011661032036600461127c565b610994565b34801561033157600080fd5b50610116610340366004610f61565b610abd565b34801561035157600080fd5b5061026a6103603660046112d9565b610b64565b34801561037157600080fd5b5061026a610d48565b6002548111156103a55760405162461bcd60e51b815260040161039c90611357565b60405180910390fd5b50565b336103bb6000546001600160a01b031690565b6001600160a01b0316146103e15760405162461bcd60e51b815260040161039c90611387565b6002600154036104335760405162461bcd60e51b815260206004820152601f60248201527f5265656e7472616e637947756172643a207265656e7472616e742063616c6c00604482015260640161039c565b6002600155478061047d5760405162461bcd60e51b81526020600482015260146024820152734e6f2066756e647320746f20776974686472617760601b604482015260640161039c565b600080546040516001600160a01b039091169183156108fc02918491818181858888f193505050501580156104b6573d6000803e3d6000fd5b505060018055565b6104c6610ec4565b6002548211156104e85760405162461bcd60e51b815260040161039c90611357565b600360008381526020019081526020016000206040518061012001604052908160008201548152602001600182018054610521906113bc565b80601f016020809104026020016040519081016040528092919081815260200182805461054d906113bc565b801561059a5780601f1061056f5761010080835404028352916020019161059a565b820191906000526020600020905b81548152906001019060200180831161057d57829003601f168201915b50505091835250506002820154602082015260038201546001600160a01b0381166040830152606090910190600160a01b900460ff1660058111156105e1576105e1610fd3565b60058111156105f2576105f2610fd3565b8152602001600482015481526020016005820154815260200160068201805461061a906113bc565b80601f0160208091040260200160405190810160405280929190818152602001828054610646906113bc565b80156106935780601f1061066857610100808354040283529160200191610693565b820191906000526020600020905b81548152906001019060200180831161067657829003601f168201915b50505091835250506007919091015460ff16151560209091015292915050565b600360205260009081526040902080546001820180549192916106d5906113bc565b80601f0160208091040260200160405190810160405280929190818152602001828054610701906113bc565b801561074e5780601f106107235761010080835404028352916020019161074e565b820191906000526020600020905b81548152906001019060200180831161073157829003601f168201915b505050506002830154600384015460048501546005860154600687018054969794966001600160a01b0385169650600160a01b90940460ff16949293919291610796906113bc565b80601f01602080910402602001604051908101604052809291908181526020018280546107c2906113bc565b801561080f5780601f106107e45761010080835404028352916020019161080f565b820191906000526020600020905b8154815290600101906020018083116107f257829003601f168201915b5050506007909301549192505060ff1689565b6004602052816000526040600020818154811061083e57600080fd5b90600052602060002001600091509150505481565b336108666000546001600160a01b031690565b6001600160a01b03161461088c5760405162461bcd60e51b815260040161039c90611387565b6001600160a01b03166000908152600860205260409020805460ff19166001179055565b336108c36000546001600160a01b031690565b6001600160a01b0316146108e95760405162461bcd60e51b815260040161039c90611387565b600580546001600160a01b039485166001600160a01b031991821617909155600680549385169382169390931790925560078054919093169116179055565b6001600160a01b03811660009081526004602090815260409182902080548351818402810184019094528084526060939283018282801561098857602002820191906000526020600020905b815481526020019060010190808311610974575b50505050509050919050565b3360009081526008602052604090205460ff166109c35760405162461bcd60e51b815260040161039c906113f6565b6002548311156109e55760405162461bcd60e51b815260040161039c90611357565b6000838152600360208190526040909120908101805484919060ff60a01b1916600160a01b836005811115610a1c57610a1c610fd3565b0217905550426005820155604051610a3d9060068301908490602001611440565b604051602081830303815290604052816006019081610a5c9190611525565b50837ff3aa2907db0a9035985b24a33dbfea8b6090be75d53e3f3f267bb02f20876f4284604051610a8d91906115e5565b60405180910390a26005836005811115610aa957610aa9610fd3565b03610ab757610ab784610d58565b50505050565b33610ad06000546001600160a01b031690565b6001600160a01b031614610af65760405162461bcd60e51b815260040161039c90611387565b6001600160a01b038116610b5b5760405162461bcd60e51b815260206004820152602660248201527f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160448201526564647265737360d01b606482015260840161039c565b6103a581610e74565b3360009081526008602052604081205460ff16610b935760405162461bcd60e51b815260040161039c906113f6565b610ba1600280546001019055565b6000610bac60025490565b9050604051806101200160405280828152602001878152602001868152602001856001600160a01b0316815260200160006005811115610bee57610bee610fd3565b8152426020808301829052604080840192909252606083018790526000608090930183905284835260038152912082518155908201516001820190610c339082611525565b506040820151600282015560608201516003820180546001600160a01b039092166001600160a01b03198316811782556080850151926001600160a81b03191617600160a01b836005811115610c8b57610c8b610fd3565b021790555060a0820151600482015560c0820151600582015560e08201516006820190610cb89082611525565b5061010091909101516007909101805460ff19169115159190911790556001600160a01b0384166000908152600460209081526040808320805460018101825590845291909220018290555181907f783ee835d8fda8222eea77190fd6bb6dab3d48fd98be5b09f05c4d30ff6751b790610d3590899088906115f9565b60405180910390a290505b949350505050565b6000610d5360025490565b905090565b600081815260036020908152604091829020915142815283917f939404383a513c81a80e4ca76ff5025d24d424f198a925c3ed566541a6aab5cd910160405180910390a26006546001600160a01b031615610e70576006546003820154604051634ea57b1d60e01b81526001600160a01b0392831692634ea57b1d92610de992879260018801921690600401611623565b6020604051808303816000875af1158015610e08573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610e2c91906116c4565b506006546040516001600160a01b03909116815282907fcd4bd94bf9e6f34f49b26592c5db180d7e1e1ba4fe83df636aaf85e213247baf9060200160405180910390a25b5050565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b60405180610120016040528060008152602001606081526020016000815260200160006001600160a01b0316815260200160006005811115610f0857610f08610fd3565b81526020016000815260200160008152602001606081526020016000151581525090565b600060208284031215610f3e57600080fd5b5035919050565b80356001600160a01b0381168114610f5c57600080fd5b919050565b600060208284031215610f7357600080fd5b610f7c82610f45565b9392505050565b60005b83811015610f9e578181015183820152602001610f86565b50506000910152565b60008151808452610fbf816020860160208601610f83565b601f01601f19169290920160200192915050565b634e487b7160e01b600052602160045260246000fd5b6006811061100757634e487b7160e01b600052602160045260246000fd5b9052565b602081528151602082015260006020830151610120806040850152611034610140850183610fa7565b915060408501516060850152606085015161105a60808601826001600160a01b03169052565b50608085015161106d60a0860182610fe9565b5060a085015160c085015260c085015160e085015260e0850151610100601f19868503018187015261109f8483610fa7565b96015115159190940152509192915050565b60006101208b83528060208401526110cb8184018c610fa7565b604084018b90526001600160a01b038a16606085015290506110f06080840189610fe9565b8660a08401528560c084015282810360e084015261110e8186610fa7565b9150508215156101008301529a9950505050505050505050565b6000806040838503121561113b57600080fd5b61114483610f45565b946020939093013593505050565b60008060006060848603121561116757600080fd5b61117084610f45565b925061117e60208501610f45565b915061118c60408501610f45565b90509250925092565b6020808252825182820181905260009190848201906040850190845b818110156111cd578351835292840192918401916001016111b1565b50909695505050505050565b634e487b7160e01b600052604160045260246000fd5b600082601f83011261120057600080fd5b813567ffffffffffffffff8082111561121b5761121b6111d9565b604051601f8301601f19908116603f01168101908282118183101715611243576112436111d9565b8160405283815286602085880101111561125c57600080fd5b836020870160208301376000602085830101528094505050505092915050565b60008060006060848603121561129157600080fd5b833592506020840135600681106112a757600080fd5b9150604084013567ffffffffffffffff8111156112c357600080fd5b6112cf868287016111ef565b9150509250925092565b600080600080608085870312156112ef57600080fd5b843567ffffffffffffffff8082111561130757600080fd5b611313888389016111ef565b95506020870135945061132860408801610f45565b9350606087013591508082111561133e57600080fd5b5061134b878288016111ef565b91505092959194509250565b60208082526016908201527514185d1a595b9d08191bd95cc81b9bdd08195e1a5cdd60521b604082015260600190565b6020808252818101527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e6572604082015260600190565b600181811c908216806113d057607f821691505b6020821081036113f057634e487b7160e01b600052602260045260246000fd5b50919050565b6020808252602a908201527f4f6e6c79206d65646963616c2073746166662063616e20706572666f726d20746040820152693434b99030b1ba34b7b760b11b606082015260800190565b600080845461144e816113bc565b60018281168015611466576001811461147b576114aa565b60ff19841687528215158302870194506114aa565b8860005260208060002060005b858110156114a15781548a820152908401908201611488565b50505082870194505b50505050620103e160ed1b815283516114ca816003840160208801610f83565b01600301949350505050565b601f82111561152057600081815260208120601f850160051c810160208610156114fd5750805b601f850160051c820191505b8181101561151c57828155600101611509565b5050505b505050565b815167ffffffffffffffff81111561153f5761153f6111d9565b6115538161154d84546113bc565b846114d6565b602080601f83116001811461158857600084156115705750858301515b600019600386901b1c1916600185901b17855561151c565b600085815260208120601f198616915b828110156115b757888601518255948401946001909101908401611598565b50858210156115d55787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b602081016115f38284610fe9565b92915050565b60408152600061160c6040830185610fa7565b905060018060a01b03831660208301529392505050565b838152600060206060818401526000855461163d816113bc565b806060870152608060018084166000811461165f5760018114611679576116a7565b60ff1985168984015283151560051b8901830195506116a7565b8a6000528660002060005b8581101561169f5781548b8201860152908301908801611684565b8a0184019650505b505050506001600160a01b0386166040860152509150610d409050565b6000602082840312156116d657600080fd5b505191905056fea2646970667358221220ab52f294ac5ef51173c1e463630cb87058694e49915fba2a315aaf4a4c8b064a64736f6c63430008140033",
  "devdoc": {
    "kind": "dev",
    "methods": {},
    "version": 1
  },
  "userdoc": {
    "kind": "user",
    "methods": {},
    "version": 1
  },
  "storageLayout": {
    "storage": [
      {
        "astId": 1449,
        "contract": "contracts/HospitalCore.sol:HospitalCore",
        "label": "_owner",
        "offset": 0,
        "slot": "0",
        "type": "t_address"
      },
      {
        "astId": 1535,
        "contract": "contracts/HospitalCore.sol:HospitalCore",
        "label": "_status",
        "offset": 0,
        "slot": "1",
        "type": "t_uint256"
      },
      {
        "astId": 1644,
        "contract": "contracts/HospitalCore.sol:HospitalCore",
        "label": "_patientIds",
        "offset": 0,
        "slot": "2",
        "type": "t_struct(Counter)1566_storage"
      },
      {
        "astId": 1676,
        "contract": "contracts/HospitalCore.sol:HospitalCore",
        "label": "patients",
        "offset": 0,
        "slot": "3",
        "type": "t_mapping(t_uint256,t_struct(Patient)1671_storage)"
      },
      {
        "astId": 1681,
        "contract": "contracts/HospitalCore.sol:HospitalCore",
        "label": "familyPatients",
        "offset": 0,
        "slot": "4",
        "type": "t_mapping(t_address,t_array(t_uint256)dyn_storage)"
      },
      {
        "astId": 1683,
        "contract": "contracts/HospitalCore.sol:HospitalCore",
        "label": "nursingHomeContract",
        "offset": 0,
        "slot": "5",
        "type": "t_address"
      },
      {
        "astId": 1685,
        "contract": "contracts/HospitalCore.sol:HospitalCore",
        "label": "funeralServiceContract",
        "offset": 0,
        "slot": "6",
        "type": "t_address"
      },
      {
        "astId": 1687,
        "contract": "contracts/HospitalCore.sol:HospitalCore",
        "label": "cemeteryContract",
        "offset": 0,
        "slot": "7",
        "type": "t_address"
      },
      {
        "astId": 1730,
        "contract": "contracts/HospitalCore.sol:HospitalCore",
        "label": "medicalStaff",
        "offset": 0,
        "slot": "8",
        "type": "t_mapping(t_address,t_bool)"
      }
    ],
    "types": {
      "t_address": {
        "encoding": "inplace",
        "label": "address",
        "numberOfBytes": "20"
      },
      "t_array(t_uint256)dyn_storage": {
        "base": "t_uint256",
        "encoding": "dynamic_array",
        "label": "uint256[]",
        "numberOfBytes": "32"
      },
      "t_bool": {
        "encoding": "inplace",
        "label": "bool",
        "numberOfBytes": "1"
      },
      "t_enum(PatientStatus)1651": {
        "encoding": "inplace",
        "label": "enum HospitalCore.PatientStatus",
        "numberOfBytes": "1"
      },
      "t_mapping(t_address,t_array(t_uint256)dyn_storage)": {
        "encoding": "mapping",
        "key": "t_address",
        "label": "mapping(address => uint256[])",
        "numberOfBytes": "32",
        "value": "t_array(t_uint256)dyn_storage"
      },
      "t_mapping(t_address,t_bool)": {
        "encoding": "mapping",
        "key": "t_address",
        "label": "mapping(address => bool)",
        "numberOfBytes": "32",
        "value": "t_bool"
      },
      "t_mapping(t_uint256,t_struct(Patient)1671_storage)": {
        "encoding": "mapping",
        "key": "t_uint256",
        "label": "mapping(uint256 => struct HospitalCore.Patient)",
        "numberOfBytes": "32",
        "value": "t_struct(Patient)1671_storage"
      },
      "t_string_storage": {
        "encoding": "bytes",
        "label": "string",
        "numberOfBytes": "32"
      },
      "t_struct(Counter)1566_storage": {
        "encoding": "inplace",
        "label": "struct Counters.Counter",
        "members": [
          {
            "astId": 1565,
            "contract": "contracts/HospitalCore.sol:HospitalCore",
            "label": "_value",
            "offset": 0,
            "slot": "0",
            "type": "t_uint256"
          }
        ],
        "numberOfBytes": "32"
      },
      "t_struct(Patient)1671_storage": {
        "encoding": "inplace",
        "label": "struct HospitalCore.Patient",
        "members": [
          {
            "astId": 1653,
            "contract": "contracts/HospitalCore.sol:HospitalCore",
            "label": "id",
            "offset": 0,
            "slot": "0",
            "type": "t_uint256"
          },
          {
            "astId": 1655,
            "contract": "contracts/HospitalCore.sol:HospitalCore",
            "label": "name",
            "offset": 0,
            "slot": "1",
            "type": "t_string_storage"
          },
          {
            "astId": 1657,
            "contract": "contracts/HospitalCore.sol:HospitalCore",
            "label": "age",
            "offset": 0,
            "slot": "2",
            "type": "t_uint256"
          },
          {
            "astId": 1659,
            "contract": "contracts/HospitalCore.sol:HospitalCore",
            "label": "familyContact",
            "offset": 0,
            "slot": "3",
            "type": "t_address"
          },
          {
            "astId": 1662,
            "contract": "contracts/HospitalCore.sol:HospitalCore",
            "label": "status",
            "offset": 20,
            "slot": "3",
            "type": "t_enum(PatientStatus)1651"
          },
          {
            "astId": 1664,
            "contract": "contracts/HospitalCore.sol:HospitalCore",
            "label": "admissionTime",
            "offset": 0,
            "slot": "4",
            "type": "t_uint256"
          },
          {
            "astId": 1666,
            "contract": "contracts/HospitalCore.sol:HospitalCore",
            "label": "lastUpdateTime",
            "offset": 0,
            "slot": "5",
            "type": "t_uint256"
          },
          {
            "astId": 1668,
            "contract": "contracts/HospitalCore.sol:HospitalCore",
            "label": "medicalRecord",
            "offset": 0,
            "slot": "6",
            "type": "t_string_storage"
          },
          {
            "astId": 1670,
            "contract": "contracts/HospitalCore.sol:HospitalCore",
            "label": "hasFuneralPlan",
            "offset": 0,
            "slot": "7",
            "type": "t_bool"
          }
        ],
        "numberOfBytes": "256"
      },
      "t_uint256": {
        "encoding": "inplace",
        "label": "uint256",
        "numberOfBytes": "32"
      }
    }
  }
}